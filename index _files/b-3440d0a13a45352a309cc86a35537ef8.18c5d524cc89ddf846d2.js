(window.webpackJsonp=window.webpackJsonp||[]).push([["b-3440d0a13a45352a309cc86a35537ef8"],{TxnK:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var i=a("dI71"),s=a("2mXy"),n=a("rEJs"),u=a("J8bf"),o=a("vkmG"),r=a("DM2o"),d=function(t){function e(){var e;return(e=t.call(this)||this).AUDIO_COOKIE="remixcurr_audio",e.AUDIO_PLAYER_CLASS="vk_audio_player",e.STAT_KEY="mvk_audio_player",e.audio=window.audio,e.state=e.getState(),e.setState({expanded:!1}),e.audio.subscribe(n.a.PLAY,(function(){return e.updateState()})),e.audio.subscribe(n.a.PLAY_REQUESTED,(function(){return e.updateState()})),e.audio.subscribe(n.a.PAUSE,(function(){return e.updateState()})),e.audio.subscribe(n.a.SEEK,(function(){return e.updateState()})),e.audio.subscribe(n.a.PROGRESS,(function(){return e.updateProgress()})),e.audio.subscribe(n.a.STOP,(function(){return e.updateState()})),e.audio.subscribe(n.a.PLAYLIST_CHANGED,(function(){e.audio.shuffled&&e.audio.shuffle(),e.audio.canRepeat||e.audio.repeat(),e.updateState()})),e.audio.subscribe(n.a.AD_READY,(function(){return e.updateState()})),e.audio.subscribe(n.a.AD_DEINITED,(function(){return e.updateState()})),e.audio.subscribe(n.a.AD_STARTED,(function(){return e.updateState()})),e.audio.subscribe(n.a.AD_COMPLETED,(function(){return e.updateState()})),window.page.onChange((function(){return e.updateState()})),e}Object(i.a)(e,t);var a=e.prototype;return a.updateProgress=function(){var t=this.audio.getCurrentProgress(),e=this.audio.duration();this.setState({loaded:this.audio.loaded(),progress:t,listened:this.formatTime(t*e),remained:this.formatTime(-(e-t*e))})},a.updateState=function(){this.setState(this.getState())},a.getState=function(){var t=this,e=this.audio.getCurrent()||{},a=e.title,i=e.subTitle,s=e.performer,n=e.mainArtists,r=e.featArtists,d=e.isExplicit,c=e.fullId,f=e.coverUrl_p,p=e.coverUrl_s;Object(u.b)(this.AUDIO_COOKIE,c,1),a?document.body.classList.add(this.AUDIO_PLAYER_CLASS):document.body.classList.remove(this.AUDIO_PLAYER_CLASS);var l=this.audio.getCurrentProgress(),A=this.audio.duration();return{title:Object(o.a)(a||""),subtitle:Object(o.a)(i||""),performer:Object(o.a)(s||""),mainArtists:this.prepareArtists(n),featArtists:this.prepareArtists(r),cover:f||p||"",explicit:d||!1,loaded:this.audio.loaded(),progress:l,listened:this.formatTime(l*A),remained:this.formatTime(-(A-l*A)),playing:this.audio.isPlaying(),adsplaying:this.audio.isAdsPlaying(),canRepeat:this.audio.canRepeat,shuffled:this.audio.shuffled,show:!!a||this.audio.isAdsPlaying(),onPlay:function(){return t.onPlay()},onPause:function(){return t.onPause()},onPrev:function(){return t.onPrev()},onNext:function(){return t.onNext()},onClose:function(){return t.onClose()},onShuffle:function(){return t.onShuffle()},onDisableAds:function(){return t.onDisableAds()},onRepeat:function(){return t.onRepeat()},onMiniPlayerClick:function(){return t.requestExpanded()}}},a.prepareArtists=function(t){return t?t.map((function(t){return[t.id,Object(o.a)(t.name)]})):[]},a.onPlay=function(){Object(r.a)(this.STAT_KEY,"play",this.state.expanded),this.audio.play()},a.onPause=function(){Object(r.a)(this.STAT_KEY,"pause",this.state.expanded),this.audio.pause()},a.onClose=function(){var t=this;Object(r.a)(this.STAT_KEY,"close",this.state.expanded),this.audio.clearCurrentPlaylist(),requestAnimationFrame((function(){Object(u.b)(t.AUDIO_COOKIE,"",-1),t.setState({title:"",subtitle:"",performer:"",explicit:!1,progress:0,playing:!1,adsplaying:!1,show:!1,expanded:!1}),document.body.classList.remove(t.AUDIO_PLAYER_CLASS)}))},a.onPrev=function(){this.audio.isAdsPlaying()||(Object(r.a)(this.STAT_KEY,"prev",this.state.expanded),this.audio.prev(!0))},a.onNext=function(){this.audio.isAdsPlaying()||(Object(r.a)(this.STAT_KEY,"next",this.state.expanded),this.audio.next(!0))},a.onShuffle=function(){this.audio.isAdsPlaying()||(Object(r.a)(this.STAT_KEY,"shuffle",this.state.expanded),this.audio.shuffle(),this.updateState())},a.onDisableAds=function(){Object(r.a)(this.STAT_KEY,"disable_ads",this.state.expanded),this.audio.pause(),nav.go("/combo")},a.onRepeat=function(){this.audio.isAdsPlaying()||(Object(r.a)(this.STAT_KEY,"repeat",this.state.expanded),this.audio.repeat(),this.updateState())},a.requestExpanded=function(){window.audio.notify(n.a.REQUEST_EXPANDED)},a.formatTime=function(t){var e=Math.abs(t);return(t<0?"-":"")+[Math.floor(e/3600),Math.floor(e/60)%60,Math.floor(e%60)].map((function(t){return t<10?"0"+t:t})).filter((function(t,e){return"00"!==t||e>0})).join(":")},e}(s.a)},rEJs:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var i={CURRENT_CHANGED:"curr",PLAY:"start",PLAY_REQUESTED:"request_play",PAUSE:"pause",STOP:"stop",UPDATE:"update",LOADED:"loaded",ENDED:"ended",FAILED:"failed",BUFFERED:"buffered",PROGRESS:"progress",VOLUME:"volume",PLAYLIST_CHANGED:"plchange",ADDED:"added",REMOVED:"removed",FREQ_UPDATE:"freq",SEEK:"seek",PLAY_NEXT:"play_next",AD_READY:"ad_ready",AD_DEINITED:"ad_deinit",AD_STARTED:"ad_started",AD_COMPLETED:"ad_completed",START_LOADING:"start_load",CAN_PLAY:"actual_start",SELECT:"select",DESELECT:"deselect",EMPTY_PLAYLIST:"empty_playlist",NOT_FOUND_PLAYLIST:"not_found_playlist",INIT:"init",REQUEST_EXPANDED:"request_expanded",MUSIC_AUDIOS_ADD:"music_audios_add",MUSIC_PLAYLISTS_ADD:"music_playlists_add"}},z9sQ:function(t,e,a){"use strict";a("OcsD");var i={class:function(t,e,a){void 0===e&&(e={});void 0===a&&(a="--");var i=[t];return Object.keys(e).forEach((function(n){if(s(n)){var u=e[n];!0===u?i.push(""+t+a+n):s(u)&&i.push(""+t+a+n+a+u)}})),i.join(" ")},setMod:function(t,e,a){var i,n=new RegExp("\\s*"+e+"(_[-a-zA-Z]+)?");i=!0===a?" "+e:s(a)?" "+e+"_"+a:"";n.test(t.className)?t.className=t.className.replace(n,i):t.className+=i}};function s(t){return"number"==typeof t||"string"==typeof t&&t}e.a=i;window.Bem=i}}]);